"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateTsClient = void 0;
const debug_1 = __importDefault(require("debug"));
const path_1 = require("path");
const fs_1 = require("../peripherals/fs");
const generateIndex_1 = require("./generateIndex");
const generateTypes_1 = require("./generateTypes");
const d = (0, debug_1.default)('@dethcrypto/eth-sdk-cli:client');
async function generateTsClient(contracts, abisRoot, outputRoot, outputToAbiRelativePath, fs = fs_1.realFs, typechainFlags) {
    d(`Generating ts client to ${outputRoot}`);
    const typesOutputPath = (0, path_1.join)(outputRoot, './types');
    await (0, generateTypes_1.generateTypes)(abisRoot, typesOutputPath, typechainFlags);
    const abisRootOut = (0, path_1.join)(outputRoot, 'abis');
    await fs.copy(abisRoot, abisRootOut);
    await (0, generateIndex_1.generateIndex)(contracts, outputRoot, outputToAbiRelativePath);
}
exports.generateTsClient = generateTsClient;
//# sourceMappingURL=generateTsClient.js.map